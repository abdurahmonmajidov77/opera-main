{"ast":null,"code":"import _regeneratorRuntime from\"/Users/abdurahmon/Desktop/opera/opera-main/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/abdurahmon/Desktop/opera/opera-main/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/Users/abdurahmon/Desktop/opera/opera-main/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import'./style.css';import{useEffect,useRef,useState}from'react';import{DeleteBlog,GetBlog,GetBlogMore,PostBlog,PutBlog}from\"../../../redux/blog\";import{useSelector,useDispatch}from\"react-redux\";import{useNavigate}from'react-router-dom';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Blog(){var _dataBlog$getBlog;var navigate=useNavigate();var editor1=useRef();var del1=useRef();var Title=useRef();var Password=useRef();var _useState=useState(false),_useState2=_slicedToArray(_useState,2),BlogModal=_useState2[0],SetBlogModal=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),BlogModal1=_useState4[0],SetBlogModal1=_useState4[1];var BlogOverlay=useRef();var dispatch=useDispatch();var dataBlog=useSelector(function(state){return state.blog;});var config={headers:{Authorization:\"Bearer \".concat(window.localStorage.getItem(\"AuthToken\"))}};useEffect(function(){dispatch(GetBlog(config));},[]);var blogDelete=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(e){var id;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:id=del1.current.value;_context.next=3;return dispatch(DeleteBlog({config:config,id:id}));case 3:_context.next=5;return dispatch(GetBlog(config));case 5:navigate(\"/sign\");case 6:case\"end\":return _context.stop();}},_callee);}));return function blogDelete(_x){return _ref.apply(this,arguments);};}();var HandleSubmit=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(e){var body;return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1)switch(_context2.prev=_context2.next){case 0:e.preventDefault();body={name:Title.current.value,password:Password.current.value};_context2.next=4;return dispatch(PostBlog({body:body,config:config}));case 4:_context2.next=6;return dispatch(GetBlog(config));case 6:SetBlogModal(false);BlogOverlay.current.style.display=\"none\";case 8:case\"end\":return _context2.stop();}},_callee2);}));return function HandleSubmit(_x2){return _ref2.apply(this,arguments);};}();var HandleSubmit1=/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee3(e){var body,id;return _regeneratorRuntime().wrap(function _callee3$(_context3){while(1)switch(_context3.prev=_context3.next){case 0:e.preventDefault();body={name:Title.current.value,password:Password.current.value};id=editor1.current.value;_context3.next=5;return dispatch(PutBlog({config:config,body:body,id:id}));case 5:_context3.next=7;return dispatch(GetBlog(config));case 7:SetBlogModal1(false);BlogOverlay.current.style.display=\"none\";case 9:case\"end\":return _context3.stop();}},_callee3);}));return function HandleSubmit1(_x3){return _ref3.apply(this,arguments);};}();var HandleEdit=/*#__PURE__*/function(){var _ref4=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee4(e){return _regeneratorRuntime().wrap(function _callee4$(_context4){while(1)switch(_context4.prev=_context4.next){case 0:BlogOverlay.current.style.display=\"block\";SetBlogModal1(true);case 2:case\"end\":return _context4.stop();}},_callee4);}));return function HandleEdit(_x4){return _ref4.apply(this,arguments);};}();return/*#__PURE__*/_jsxs(\"div\",{className:\"Blog\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"overlay\",ref:BlogOverlay,onClick:function onClick(){SetBlogModal(false);BlogOverlay.current.style.display=\"none\";SetBlogModal1(false);}}),BlogModal?/*#__PURE__*/_jsxs(\"form\",{onSubmit:HandleSubmit,className:\"projectModal\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Add Admin\"}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h4\",{children:\"Enter Admin Title\"}),/*#__PURE__*/_jsx(\"input\",{ref:Title,type:\"text\",placeholder:\"Enter Admin Title\",required:true}),/*#__PURE__*/_jsx(\"h4\",{children:\"Enter Admin Password\"}),/*#__PURE__*/_jsx(\"input\",{ref:Password,type:\"text\",placeholder:\"Enter Admin Password\",required:true}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",children:\"Add\"})]})]}):null,BlogModal1?/*#__PURE__*/_jsxs(\"form\",{onSubmit:HandleSubmit1,className:\"projectModal\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Edit Admin\"}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h4\",{children:\"Edit Admin Title\"}),/*#__PURE__*/_jsx(\"input\",{ref:Title,type:\"text\",placeholder:\"Enter New Admin Title\",required:true}),/*#__PURE__*/_jsx(\"h4\",{children:\"Edit Admin Password\"}),/*#__PURE__*/_jsx(\"input\",{ref:Password,type:\"text\",placeholder:\"Enter New Admin Password\",required:true}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",children:\"Edit\"})]})]}):null,/*#__PURE__*/_jsxs(\"div\",{className:\"BlogNav\",children:[/*#__PURE__*/_jsxs(\"h1\",{children:[\" \",/*#__PURE__*/_jsx(\"i\",{className:\"fa-solid fa-user\"}),\" Admins\"]}),/*#__PURE__*/_jsxs(\"button\",{className:\"BlogNavBtn\",onClick:function onClick(){SetBlogModal(true);BlogOverlay.current.style.display=\"block\";},children:[\"+\",/*#__PURE__*/_jsx(\"i\",{className:\"fa-solid fa-user\"}),\"  Add Admin\"]})]}),/*#__PURE__*/_jsx(\"ul\",{children:dataBlog.getBlog.Success==true?(_dataBlog$getBlog=dataBlog.getBlog)===null||_dataBlog$getBlog===void 0?void 0:_dataBlog$getBlog.Data.data.data.map(function(elem,index){return/*#__PURE__*/_jsxs(\"li\",{children:[/*#__PURE__*/_jsx(\"img\",{src:\"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQx9tjaExsY-srL4VsHNE_OKGVCJ-eIFNBktw&usqp=CAU\",alt:\"\"}),/*#__PURE__*/_jsxs(\"h3\",{children:[\"Name: \",elem.name]}),/*#__PURE__*/_jsxs(\"div\",{className:\"AdBtnBox\",children:[/*#__PURE__*/_jsxs(\"button\",{value:elem.id,ref:del1,onClick:blogDelete,children:[/*#__PURE__*/_jsx(\"i\",{className:\"fa-solid fa-trash\"}),\"Delete\"]}),/*#__PURE__*/_jsxs(\"button\",{value:elem.id,ref:editor1,onClick:HandleEdit,children:[/*#__PURE__*/_jsx(\"i\",{className:\"fa-solid fa-edit\"}),\"Edit\"]})]})]},index);}):dataBlog.getBlog.Loading==true?/*#__PURE__*/_jsx(\"i\",{className:\"loading fa-solid fa-spinner fa-spin-pulse\"}):dataBlog.getBlog.Error==true?/*#__PURE__*/_jsxs(\"h3\",{className:\"Error\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"fa-solid fa-triangle-exclamation fa-fade\"}),\" Error 500\"]}):null})]});}export default Blog;","map":{"version":3,"names":["useEffect","useRef","useState","DeleteBlog","GetBlog","GetBlogMore","PostBlog","PutBlog","useSelector","useDispatch","useNavigate","Blog","navigate","editor1","del1","Title","Password","BlogModal","SetBlogModal","BlogModal1","SetBlogModal1","BlogOverlay","dispatch","dataBlog","state","blog","config","headers","Authorization","window","localStorage","getItem","blogDelete","e","id","current","value","HandleSubmit","preventDefault","body","name","password","style","display","HandleSubmit1","HandleEdit","getBlog","Success","Data","data","map","elem","index","Loading","Error"],"sources":["/Users/abdurahmon/Desktop/opera/opera-main/src/pages/Admin/Blogs/index.jsx"],"sourcesContent":["import './style.css';\nimport { useEffect, useRef, useState } from 'react'\nimport { DeleteBlog, GetBlog, GetBlogMore, PostBlog, PutBlog } from \"../../../redux/blog\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport { useNavigate } from 'react-router-dom';\n\nfunction Blog() {\n  const navigate = useNavigate()\n  const editor1 = useRef();\n  const del1 = useRef();\n  const Title = useRef();\n  const Password = useRef();\n  const [BlogModal, SetBlogModal] = useState(false)\n  const [BlogModal1, SetBlogModal1] = useState(false)\n  const BlogOverlay = useRef()\n  const dispatch = useDispatch()\n  const dataBlog = useSelector(state => state.blog)\n  const config = {\n    headers:{\n        Authorization: `Bearer ${window.localStorage.getItem(\"AuthToken\")}` \n    }\n  }\n  useEffect(() => {\n      dispatch(GetBlog(config))\n    },[])\n  const blogDelete = async(e) => {\n    const id = del1.current.value\n    await dispatch(DeleteBlog({config, id}))\n    await dispatch(GetBlog(config))\n    navigate(\"/sign\")\n  }\n  const HandleSubmit = async(e) => {\n    e.preventDefault();\n    const body = {\n        name: Title.current.value,\n        password: Password.current.value\n    }\n    await dispatch(PostBlog({body, config}))\n    await dispatch(GetBlog(config))\n    SetBlogModal(false)\n    BlogOverlay.current.style.display = \"none\"\n  }\n  const HandleSubmit1 = async(e) => {\n  e.preventDefault();\n  const body = {\n    name: Title.current.value,\n    password: Password.current.value\n  }\n  const id = editor1.current.value\n  await dispatch(PutBlog({config,body, id}))\n  await dispatch(GetBlog(config))\n  SetBlogModal1(false)\n  BlogOverlay.current.style.display = \"none\"\n  }\n  const HandleEdit = async(e) => {\n    BlogOverlay.current.style.display=\"block\";\n    SetBlogModal1(true);\n    }\n  return (\n    <div className=\"Blog\">\n      <div className=\"overlay\" ref={BlogOverlay} onClick={() => {SetBlogModal(false);BlogOverlay.current.style.display = \"none\";SetBlogModal1(false)}}></div>\n        { BlogModal ? <form onSubmit={HandleSubmit} className=\"projectModal\">\n            <h3>Add Admin</h3>\n            <div>\n                <h4>Enter Admin Title</h4>\n                <input ref={Title} type=\"text\" placeholder='Enter Admin Title' required/>\n                <h4>Enter Admin Password</h4>\n                <input ref={Password} type=\"text\" placeholder='Enter Admin Password' required/>\n                <button type=\"submit\">Add</button>\n            </div>\n        </form> :null}\n        {BlogModal1 ? <form onSubmit={HandleSubmit1} className=\"projectModal\">\n            <h3>Edit Admin</h3>\n            <div>\n                <h4>Edit Admin Title</h4>\n                <input ref={Title} type=\"text\" placeholder='Enter New Admin Title' required/>\n                <h4>Edit Admin Password</h4>\n                <input ref={Password} type=\"text\" placeholder='Enter New Admin Password' required/>\n                <button type=\"submit\">Edit</button>\n            </div>\n        </form> :null}\n        <div className=\"BlogNav\">\n        <h1> <i className='fa-solid fa-user'></i> Admins</h1>\n        <button className='BlogNavBtn' onClick={() => {SetBlogModal(true);BlogOverlay.current.style.display=\"block\"}}>+<i className='fa-solid fa-user'></i>  Add Admin</button>\n        </div>\n      <ul>\n      {dataBlog.getBlog.Success == true ? dataBlog.getBlog?.Data.data.data.map((elem, index) => \n        <li key={index}>\n            <img src=\"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQx9tjaExsY-srL4VsHNE_OKGVCJ-eIFNBktw&usqp=CAU\" alt=\"\" />\n            <h3>Name: {elem.name}</h3>\n            <div className=\"AdBtnBox\">\n                <button value={elem.id} ref={del1} onClick={blogDelete}><i className=\"fa-solid fa-trash\"></i>Delete</button>\n                <button value={elem.id} ref={editor1} onClick={HandleEdit}><i className=\"fa-solid fa-edit\"></i>Edit</button>\n            </div>\n        </li>)\n        :dataBlog.getBlog.Loading == true ? <i className=\"loading fa-solid fa-spinner fa-spin-pulse\"></i> : dataBlog.getBlog.Error == true ? <h3 className='Error'><i className=\"fa-solid fa-triangle-exclamation fa-fade\"></i> Error 500</h3> : null}\n      </ul>\n    </div>\n  );\n}\n\nexport default Blog;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}