{"ast":null,"code":"import{GetMessage}from\"../../../redux/message\";import{useEffect,useRef}from'react';import{useSelector,useDispatch}from\"react-redux\";import'./style.css';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Message(){var _dataMessage$getMessa,_dataMessage$getMessa2;var CopiedMes=useRef();var dispatch=useDispatch();var dataMessage=useSelector(function(state){return state.message;});useEffect(function(){dispatch(GetMessage());},[]);var HandleCopy=function HandleCopy(e){var textField=document.createElement('textarea');textField.innerText=e.target.value;document.body.appendChild(textField);textField.select();document.execCommand('copy');textField.remove();CopiedMes.current.style.display='block';setTimeout(function(){CopiedMes.current.style.display='none';},4000);};return/*#__PURE__*/_jsxs(\"div\",{className:\"Message\",children:[/*#__PURE__*/_jsxs(\"h1\",{children:[/*#__PURE__*/_jsx(\"i\",{className:\"fa-solid fa-message\"}),\" Messages\"]}),/*#__PURE__*/_jsx(\"ul\",{children:dataMessage.getMessage.Success==true?((_dataMessage$getMessa=dataMessage.getMessage)===null||_dataMessage$getMessa===void 0?void 0:_dataMessage$getMessa.Data.data.data.length)>0?(_dataMessage$getMessa2=dataMessage.getMessage)===null||_dataMessage$getMessa2===void 0?void 0:_dataMessage$getMessa2.Data.data.data.map(function(elem,index){return/*#__PURE__*/_jsxs(\"li\",{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"MessageTexts\",children:[/*#__PURE__*/_jsx(\"h4\",{children:elem.fullName}),/*#__PURE__*/_jsx(\"h5\",{onClick:HandleCopy,value:elem.phone,children:elem.phone})]}),/*#__PURE__*/_jsx(\"p\",{children:elem.message})]},index);}):/*#__PURE__*/_jsx(\"h2\",{children:\"No Messages Here Yet!\"}):dataMessage.getMessage.Loading==true?/*#__PURE__*/_jsx(\"i\",{className:\"loading fa-solid fa-spinner fa-spin-pulse\"}):dataMessage.getMessage.Error==true?/*#__PURE__*/_jsxs(\"h3\",{className:\"Error\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"fa-solid fa-triangle-exclamation fa-fade\"}),\" Error 500\"]}):null}),/*#__PURE__*/_jsxs(\"div\",{ref:CopiedMes,className:\"CopiedMessage\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"fa-solid fa-file\"}),\" Number copied to clipboard.\"]})]});}export default Message;","map":{"version":3,"names":["GetMessage","useEffect","useRef","useSelector","useDispatch","Message","CopiedMes","dispatch","dataMessage","state","message","HandleCopy","e","textField","document","createElement","innerText","target","value","body","appendChild","select","execCommand","remove","current","style","display","setTimeout","getMessage","Success","Data","data","length","map","elem","index","fullName","phone","Loading","Error"],"sources":["/Users/abdurahmon/Desktop/opera/opera-main/src/pages/Admin/Message/index.jsx"],"sourcesContent":["import { GetMessage } from \"../../../redux/message\";\nimport { useEffect, useRef } from 'react'\nimport { useSelector, useDispatch } from \"react-redux\";\nimport './style.css';\n\nfunction Message() {\n  const CopiedMes = useRef()\n  const dispatch = useDispatch()\n  const dataMessage = useSelector(state => state.message)\n  useEffect(() => {\n    dispatch(GetMessage())\n  },[])\n  const HandleCopy = (e) => {\n    var textField = document.createElement('textarea')\n    textField.innerText = e.target.value\n    document.body.appendChild(textField)\n    textField.select()\n    document.execCommand('copy')\n    textField.remove()\n    CopiedMes.current.style.display = 'block'\n    setTimeout(() => {\n      CopiedMes.current.style.display = 'none'\n    }, 4000)\n  }\n  return (\n    <div className=\"Message\">\n      <h1><i className=\"fa-solid fa-message\"></i> Messages</h1>\n      <ul>\n        {dataMessage.getMessage.Success == true ? \n        dataMessage.getMessage?.Data.data.data.length > 0 ?\n        dataMessage.getMessage?.Data.data.data.map((elem, index) =>\n          <li key={index}>\n            <div className=\"MessageTexts\">\n              <h4>{elem.fullName}</h4>\n              <h5 onClick={HandleCopy} value={elem.phone}>{elem.phone}</h5>\n            </div>\n            <p>{elem.message}</p>\n          </li>) : <h2>No Messages Here Yet!</h2>\n          : dataMessage.getMessage.Loading == true ? <i className=\"loading fa-solid fa-spinner fa-spin-pulse\"></i> : dataMessage.getMessage.Error == true ? <h3 className='Error'><i className=\"fa-solid fa-triangle-exclamation fa-fade\"></i> Error 500</h3> : null}\n      </ul>\n      <div ref={CopiedMes} className=\"CopiedMessage\"><i className=\"fa-solid fa-file\"></i> Number copied to clipboard.</div>\n    </div>\n  );\n}\n\nexport default Message;"],"mappings":"AAAA,OAASA,UAAU,KAAQ,wBAAwB,CACnD,OAASC,SAAS,CAAEC,MAAM,KAAQ,OAAO,CACzC,OAASC,WAAW,CAAEC,WAAW,KAAQ,aAAa,CACtD,MAAO,aAAa,CAAC,wFAErB,QAASC,QAAO,EAAG,kDACjB,GAAMC,UAAS,CAAGJ,MAAM,EAAE,CAC1B,GAAMK,SAAQ,CAAGH,WAAW,EAAE,CAC9B,GAAMI,YAAW,CAAGL,WAAW,CAAC,SAAAM,KAAK,QAAIA,MAAK,CAACC,OAAO,GAAC,CACvDT,SAAS,CAAC,UAAM,CACdM,QAAQ,CAACP,UAAU,EAAE,CAAC,CACxB,CAAC,CAAC,EAAE,CAAC,CACL,GAAMW,WAAU,CAAG,QAAbA,WAAU,CAAIC,CAAC,CAAK,CACxB,GAAIC,UAAS,CAAGC,QAAQ,CAACC,aAAa,CAAC,UAAU,CAAC,CAClDF,SAAS,CAACG,SAAS,CAAGJ,CAAC,CAACK,MAAM,CAACC,KAAK,CACpCJ,QAAQ,CAACK,IAAI,CAACC,WAAW,CAACP,SAAS,CAAC,CACpCA,SAAS,CAACQ,MAAM,EAAE,CAClBP,QAAQ,CAACQ,WAAW,CAAC,MAAM,CAAC,CAC5BT,SAAS,CAACU,MAAM,EAAE,CAClBjB,SAAS,CAACkB,OAAO,CAACC,KAAK,CAACC,OAAO,CAAG,OAAO,CACzCC,UAAU,CAAC,UAAM,CACfrB,SAAS,CAACkB,OAAO,CAACC,KAAK,CAACC,OAAO,CAAG,MAAM,CAC1C,CAAC,CAAE,IAAI,CAAC,CACV,CAAC,CACD,mBACE,aAAK,SAAS,CAAC,SAAS,wBACtB,mCAAI,UAAG,SAAS,CAAC,qBAAqB,EAAK,YAAS,GAAK,cACzD,oBACGlB,WAAW,CAACoB,UAAU,CAACC,OAAO,EAAI,IAAI,CACvC,wBAAArB,WAAW,CAACoB,UAAU,gDAAtB,sBAAwBE,IAAI,CAACC,IAAI,CAACA,IAAI,CAACC,MAAM,EAAG,CAAC,yBACjDxB,WAAW,CAACoB,UAAU,iDAAtB,uBAAwBE,IAAI,CAACC,IAAI,CAACA,IAAI,CAACE,GAAG,CAAC,SAACC,IAAI,CAAEC,KAAK,qBACrD,mCACE,aAAK,SAAS,CAAC,cAAc,wBAC3B,oBAAKD,IAAI,CAACE,QAAQ,EAAM,cACxB,WAAI,OAAO,CAAEzB,UAAW,CAAC,KAAK,CAAEuB,IAAI,CAACG,KAAM,UAAEH,IAAI,CAACG,KAAK,EAAM,GACzD,cACN,mBAAIH,IAAI,CAACxB,OAAO,EAAK,GALdyB,KAAK,CAMT,GAAC,cAAG,oBAAI,uBAAqB,EAAK,CACrC3B,WAAW,CAACoB,UAAU,CAACU,OAAO,EAAI,IAAI,cAAG,UAAG,SAAS,CAAC,2CAA2C,EAAK,CAAG9B,WAAW,CAACoB,UAAU,CAACW,KAAK,EAAI,IAAI,cAAG,YAAI,SAAS,CAAC,OAAO,wBAAC,UAAG,SAAS,CAAC,0CAA0C,EAAK,aAAU,GAAK,CAAG,IAAI,EACzP,cACL,aAAK,GAAG,CAAEjC,SAAU,CAAC,SAAS,CAAC,eAAe,wBAAC,UAAG,SAAS,CAAC,kBAAkB,EAAK,+BAA4B,GAAM,GACjH,CAEV,CAEA,cAAeD,QAAO"},"metadata":{},"sourceType":"module","externalDependencies":[]}