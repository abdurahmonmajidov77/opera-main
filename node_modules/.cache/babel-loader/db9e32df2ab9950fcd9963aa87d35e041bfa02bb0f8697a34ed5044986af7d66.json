{"ast":null,"code":"import _regeneratorRuntime from\"/Users/abdurahmon/Desktop/opera/opera-main/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/abdurahmon/Desktop/opera/opera-main/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/Users/abdurahmon/Desktop/opera/opera-main/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useRef,useState}from'react';import{useNavigate}from'react-router-dom';import{API_URL}from'../../utils';import'./style.css';import axios from\"axios\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function SignPage(){var navlink=useNavigate();var namePass=useRef();var namePassUp=useRef();var _useState=useState(),_useState2=_slicedToArray(_useState,2),error=_useState2[0],setError=_useState2[1];var HandleSubmit=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(e){var body,res;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:e.preventDefault();body={name:namePass.current.value,password:namePassUp.current.value};_context.prev=2;_context.next=5;return axios.post(\"\".concat(API_URL,\"/auth/login\"),body);case 5:res=_context.sent;setError(false);window.localStorage.setItem(\"AuthToken\",res.data.data);navlink(\"/admin\");_context.next=14;break;case 11:_context.prev=11;_context.t0=_context[\"catch\"](2);setError(true);case 14:case\"end\":return _context.stop();}},_callee,null,[[2,11]]);}));return function HandleSubmit(_x){return _ref.apply(this,arguments);};}();var HandleNav=function HandleNav(){navlink('/');};return/*#__PURE__*/_jsxs(\"div\",{className:\"SignPage\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"SignPagePath\",onClick:HandleNav,children:/*#__PURE__*/_jsx(\"i\",{className:\"fa-solid fa-arrow-left\"})}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:HandleSubmit,className:\"SignModal\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Log in\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Siz bu yerdan Admin panlega o'ta olasiz.Iltimos ism va parolni to'g'ri holatda kiriting!\"}),error?/*#__PURE__*/_jsx(\"p\",{className:\"SignP\",children:\"Internet, ism yoki parolda xatolik mavjud!\"}):null,/*#__PURE__*/_jsx(\"input\",{type:\"text\",ref:namePass,placeholder:\"Ismingizni kiriting\",className:\"ins\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",ref:namePassUp,placeholder:\"Parolingizni kiritng\",className:\"ins\"}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",children:\"Sign in\"})]})]});}export default SignPage;","map":{"version":3,"names":["useRef","useState","useNavigate","API_URL","axios","SignPage","navlink","namePass","namePassUp","error","setError","HandleSubmit","e","preventDefault","body","name","current","value","password","post","res","window","localStorage","setItem","data","HandleNav"],"sources":["/Users/abdurahmon/Desktop/opera/opera-main/src/pages/Sign/index.jsx"],"sourcesContent":["import { useRef, useState } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport { API_URL } from '../../utils';\nimport './style.css';\nimport axios from \"axios\"\n\nfunction SignPage() {\n  const navlink = useNavigate();\n  const namePass = useRef()\n  const namePassUp = useRef()\n  const [error, setError] = useState()\n  const HandleSubmit = async (e) => {\n    e.preventDefault()\n    const body = {\n      name: namePass.current.value,\n      password: namePassUp.current.value\n    }\n    try {\n      const res =  await axios.post(`${API_URL}/auth/login`, body)\n      setError(false) \n      window.localStorage.setItem(\"AuthToken\", res.data.data)\n      navlink(\"/admin\")\n    } catch (error) {\n      setError(true)\n    }\n    }\n    const HandleNav = () => {\n        navlink('/')\n    }\n  return (\n    <div className=\"SignPage\">\n      <div className=\"SignPagePath\" onClick={HandleNav}><i className='fa-solid fa-arrow-left'></i></div>\n        <form onSubmit={HandleSubmit} className=\"SignModal\">\n            <h1>Log in</h1>\n            <p>Siz bu yerdan Admin panlega o'ta olasiz.Iltimos ism va parolni to'g'ri holatda kiriting!</p>\n            {error ? <p className='SignP'>Internet, ism yoki parolda xatolik mavjud!</p> : null}\n            <input type=\"text\" ref={namePass} placeholder='Ismingizni kiriting' className='ins'/>\n            <input type=\"text\" ref={namePassUp} placeholder='Parolingizni kiritng' className='ins'/>\n            <button type='submit'>Sign in</button>\n        </form>\n    </div>\n  );\n}\n\nexport default SignPage;"],"mappings":"gZAAA,OAASA,MAAM,CAAEC,QAAQ,KAAQ,OAAO,CACxC,OAASC,WAAW,KAAQ,kBAAkB,CAC9C,OAASC,OAAO,KAAQ,aAAa,CACrC,MAAO,aAAa,CACpB,MAAOC,MAAK,KAAM,OAAO,yFAEzB,QAASC,SAAQ,EAAG,CAClB,GAAMC,QAAO,CAAGJ,WAAW,EAAE,CAC7B,GAAMK,SAAQ,CAAGP,MAAM,EAAE,CACzB,GAAMQ,WAAU,CAAGR,MAAM,EAAE,CAC3B,cAA0BC,QAAQ,EAAE,wCAA7BQ,KAAK,eAAEC,QAAQ,eACtB,GAAMC,aAAY,4FAAG,iBAAOC,CAAC,gIAC3BA,CAAC,CAACC,cAAc,EAAE,CACZC,IAAI,CAAG,CACXC,IAAI,CAAER,QAAQ,CAACS,OAAO,CAACC,KAAK,CAC5BC,QAAQ,CAAEV,UAAU,CAACQ,OAAO,CAACC,KAC/B,CAAC,uCAEoBb,MAAK,CAACe,IAAI,WAAIhB,OAAO,gBAAeW,IAAI,CAAC,QAAtDM,GAAG,eACTV,QAAQ,CAAC,KAAK,CAAC,CACfW,MAAM,CAACC,YAAY,CAACC,OAAO,CAAC,WAAW,CAAEH,GAAG,CAACI,IAAI,CAACA,IAAI,CAAC,CACvDlB,OAAO,CAAC,QAAQ,CAAC,kFAEjBI,QAAQ,CAAC,IAAI,CAAC,qEAEf,kBAdGC,aAAY,4CAcf,CACD,GAAMc,UAAS,CAAG,QAAZA,UAAS,EAAS,CACpBnB,OAAO,CAAC,GAAG,CAAC,CAChB,CAAC,CACH,mBACE,aAAK,SAAS,CAAC,UAAU,wBACvB,YAAK,SAAS,CAAC,cAAc,CAAC,OAAO,CAAEmB,SAAU,uBAAC,UAAG,SAAS,CAAC,wBAAwB,EAAK,EAAM,cAChG,cAAM,QAAQ,CAAEd,YAAa,CAAC,SAAS,CAAC,WAAW,wBAC/C,oBAAI,QAAM,EAAK,cACf,mBAAG,0FAAwF,EAAI,CAC9FF,KAAK,cAAG,UAAG,SAAS,CAAC,OAAO,UAAC,4CAA0C,EAAI,CAAG,IAAI,cACnF,cAAO,IAAI,CAAC,MAAM,CAAC,GAAG,CAAEF,QAAS,CAAC,WAAW,CAAC,qBAAqB,CAAC,SAAS,CAAC,KAAK,EAAE,cACrF,cAAO,IAAI,CAAC,MAAM,CAAC,GAAG,CAAEC,UAAW,CAAC,WAAW,CAAC,sBAAsB,CAAC,SAAS,CAAC,KAAK,EAAE,cACxF,eAAQ,IAAI,CAAC,QAAQ,UAAC,SAAO,EAAS,GACnC,GACL,CAEV,CAEA,cAAeH,SAAQ"},"metadata":{},"sourceType":"module","externalDependencies":[]}